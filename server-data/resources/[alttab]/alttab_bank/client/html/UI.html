<html>
    <head>
    	<meta charset="utf-8">
    	<meta name="viewport" content="width=device-width">
        <link href="style.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">
        <style>
			 #depositUI, #withdrawUI, #transferUI, #general, #topbar
			 {display: none;}
		</style>
	</head>
    <body>
    	<div class="container">
    		<div id="result"></div>
    		<div class="topbar" id="topbar">
					<nav>
						<img src="media/img/logo-big.png" alt="logo" height="56">
					</nav>
    		</div>
<!-- ########### GENERAL ###########  -->
    		<div class="cont-content" id="general">
    			<div class="mainpage">
    				<div class="balance box-shadow">
	    				<p>Client: 
	    					<span class="name"><span class="username1"></span></span><br><br>
	    					Votre solde est:
	    					<span class="money"><span class="curbalance"></span><span class="dh"> &nbsp;DH</span></span>
	    				</p>
		    		</div>
		    		<div class="list-btn">
		    			<button class="btn btn-green" id="deposit">
		    				<i class="far fa-money-bill-alt"></i>
		    				<span class="far fa-money-bill-alt icon"></span>
		    				<p class="ztitles">Déposer</p>
		    			</button>
			    		<button class="btn btn-red" id="withdraw">
			    			<i class="far fa-credit-card"></i>
		    				<span class="far fa-credit-card icon"></span>
								<p class="ztitles">Retirer</p>
			    		</button>
			    		<button class="btn btn-blue" id="transfer">
			    			<i class="fas fa-exchange-alt"></i>
		    				<span class="fas fa-exchange-alt icon"></span>
								<p class="ztitles">Transférer</p>
			    		</button>
		    		</div>
    			</div>
    			<div class="flex">
    				<div class="pub box-shadow confiance">
    					<p>
    						<span>Vous pouvez nous faire confiance</span><br>
    						Le nombre de comptes créés sur notre banque a été augmenté de 69% le mois dérnier.
    					</p>
    					<div class="circle-confiance"></div>
    				</div>
    				<div class="pub box-shadow social">
    					<p>
							<span>vous pouvez prendre le crédit que vous souhaitez</span><br>
							Il vous suffit juste de contacter le directeur de la banque et signer quelques documents
						</p>
						<div class="circle-social"></div>
    				</div>
    			</div>
	    	</div>
<!-- ########### DEPOSIT ###########  -->
	    	<div class="cont-content" id="depositUI">
    			<div class="flex">
    				<div class="btn btn-blue banniere">
    					<p>Déposer votre argent<br>
		    			<span>Nous sommes la banque la plus sécurisée de la ville</span></p>
    				</div>
    				<button class="btn btn-grey back">
    					<i class="fas fa-bars"></i>
	    				<span class="fas fa-arrow-left icon"></span>
	    				<p class="ztitles">Menu principal</p>
    				</button>
    			</div>
    			<form id="deposit1">
    				<div class="input-cont box-shadow">
    					<label>Combien voulez-vous déposer?</label>
    					<input id="amount" type="number" placeholder="0 DH">
    				</div>
    				<button class="btn btn-green" type="submit">
    					<i class="fas fa-check"></i>
	    				<span class="fas fa-check icon"></span>
	    				<p class="ztitles">Confirmer</p>
    				</button>
				</form>
	    	</div>
<!-- ########### WITHDRAW ###########  -->
	    	<div class="cont-content" id="withdrawUI">
    			<div class="flex">
    				<div class="btn btn-red banniere">
    					<p>Retirer de l'argent<br>
		    			<span>de votre compte bancaire</span></p>
    				</div>
    				<button class="btn btn-grey back">
    					<i class="fas fa-bars"></i>
	    				<span class="fas fa-arrow-left icon"></span>
	    				<p class="ztitles">Menu principal</p>
    				</button>
    			</div>
    			<form id="withdraw1">
    				<div class="input-cont box-shadow">
    					<label>Combien voulez-vous retirer?</label>
    					<input id="amountw" type="number" placeholder="0 DH">
    				</div>
    				<button class="btn btn-green" type="submit">
    					<i class="fas fa-check"></i>
	    				<span class="fas fa-check icon"></span>
	    				<p class="ztitles">confirmer</p>
    				</button>
				</form>
	    	</div>
<!-- ########### TRANSFER ###########  -->
	    	<div class="cont-content" id="transferUI">
    			<div class="flex">
    				<div class="btn btn-blue banniere">
    					<p>Tranférer de l'argent</p>
    				</div>
    				<button class="btn btn-grey back">
    					<i class="fas fa-bars"></i>
	    				<span class="fas fa-arrow-left icon"></span>
	    				<p class="ztitles">Menu principal</p>
    				</button>
    			</div>
    			<form id="transfer1">
    				<div class="double-input">
    					<div class="input-cont box-shadow">
	    					<label>Combien voulez-vous tranférer?</label>
	    					<input id="amountt" type="number" placeholder="0 DH">
	    				</div>
	    				<div class="input-cont box-shadow">
	    					<label>Entrez le ID de la personne concernée</label>
	    					<input id="to" type="text" placeholder="ID">
	    				</div>
    				</div>
    				<button class="btn btn-green" type="submit">
    					<i class="fas fa-check"></i>
	    				<span class="fas fa-check icon"></span>
	    				<p class="ztitles">Confirmer</p>
    				</button>
				</form>
	    	</div>
    	<script src="nui://game/ui/jquery.js" type="text/javascript"></script>
    	<script type="text/javascript">
    		$(function() {
				window.addEventListener('message', function(event) {
					if (event.data.type === "openGeneral"){
						$('#general').css('display', 'block')
						$('#topbar').css('display', 'flex')
						$('.fingerprint-active, .fingerprint-bar').removeClass("active")
					} else if(event.data.type === "balanceHUD") {
							$('.username1').html(event.data.player);
							$('.curbalance').html(event.data.balance);
					} else if (event.data.type === "closeAll"){
		                $('#general, #transferUI, #withdrawUI, #depositUI, #topbar').hide();
		                $('body').removeClass("active");
					}
					else if (event.data.type === "result") {
						if (event.data.t == "success")
							$("#result").attr('class', 'alert-green');
						else
							$("#result").attr('class', 'alert-orange');
						$("#result").html(event.data.m).show().delay(5000).fadeOut();
					}
				});
			});
				$('.back').click(function(){
						$('#depositUI, #withdrawUI, #transferUI').hide();
						$('#general').show();
				})
				$('#deposit').click(function(){
						$('#general').hide();
						$('#depositUI').show();
				})
				$('#withdraw').click(function(){
						$('#general').hide();
						$('#withdrawUI').show();
				})
				$('#transfer').click(function(){
						$('#general').hide();
						$('#transferUI').show();
				})
				$('#fingerprint-content').click(function(){
						$('.fingerprint-active, .fingerprint-bar').addClass("active")
						setTimeout(function(){
				$('#general').css('display', 'block')
				$('#topbar').css('display', 'flex')
				$('.fingerprint-active, .fingerprint-bar').removeClass("active")
			}, 1400);
				})
				$("#deposit1").submit(function(e) {
					e.preventDefault(); // Prevent form from submitting
					$.post('http://alttab_bank/deposit', JSON.stringify({
							amount: $("#amount").val()
					}));
				$('#depositUI').hide();
				$('#general').show();
				$("#amount").val('');
			});
			$("#transfer1").submit(function(e) {
		        e.preventDefault(); // Prevent form from submitting
		        $.post('http://alttab_bank/transfer', JSON.stringify({
					to: $("#to").val(),
		            amountt: $("#amountt").val()
		        }));
				$('#transferUI').hide();
				$('#general').show();
				$("#amountt").val('');
			});
			$("#withdraw1").submit(function(e) {
				e.preventDefault(); // Prevent form from submitting
		        $.post('http://alttab_bank/withdrawl', JSON.stringify({
		            amountw: $("#amountw").val()
		        }));
				$('#withdrawUI').hide();
				$('#general').show();
				$("#amountw").val('');
			});
			document.onkeyup = function(data){
		        if (data.which == 27){
		            $('#general, #transferUI, #withdrawUI, #depositUI, #topbar').hide();
		            $('body').removeClass("active");
		            $.post('http://alttab_bank/NUIFocusOff', JSON.stringify({}));
		        }
		    }
    	</script>
    </body>
  </html>
